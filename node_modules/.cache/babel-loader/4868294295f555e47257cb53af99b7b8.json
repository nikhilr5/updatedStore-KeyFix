{"ast":null,"code":"var _jsxFileName = \"/Users/nikhilr5/Desktop/ScribeAR/updatedStore/src/components/MiddleSpace/Loudness/AudioAnalyser.js\";\nimport React, { Component } from 'react';\nimport AudioVisualiser from './AudioVisualiser';\n/*global Unit8Array*/\n\nclass AudioAnalyser extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      audioData: new Uint8Array(0)\n    };\n    this.tick = this.tick.bind(this);\n  }\n\n  componentDidMount() {\n    this.audioContext = new (window.AudioContext || window.webkitAudioContext)();\n    this.analyser = this.audioContext.createAnalyser();\n    this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n    this.source = this.audioContext.createMediaStreamSource(this.props.audio);\n    this.source.connect(this.analyser);\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n\n  tick() {\n    if (this.props.mic == 1) {\n      //console.log(\"1\");n\n      this.analyser.getByteTimeDomainData(this.dataArray);\n    } else if (this.props.mic == 2) {\n      //console.log(\"2\");\n      this.analyser.getByteFrequencyData(this.dataArray);\n    } else if (this.props.mic == 3) {\n      this.analyser.getByteFrequencyData(this.dataArray); //this.analyser.getByteTimeDomainData(this.dataArray);\n    }\n\n    this.setState({\n      audioData: this.dataArray\n    });\n    this.rafId = requestAnimationFrame(this.tick);\n  }\n\n  componentWillUnmount() {\n    cancelAnimationFrame(this.rafId);\n    this.analyser.disconnect();\n    this.source.disconnect();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(AudioVisualiser, {\n      audioData: this.state.audioData,\n      iscolor: this.props.iscolor,\n      mic: this.props.mic,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 14\n      }\n    });\n  }\n\n}\n\nexport default AudioAnalyser;","map":{"version":3,"sources":["/Users/nikhilr5/Desktop/ScribeAR/updatedStore/src/components/MiddleSpace/Loudness/AudioAnalyser.js"],"names":["React","Component","AudioVisualiser","AudioAnalyser","constructor","props","state","audioData","Uint8Array","tick","bind","componentDidMount","audioContext","window","AudioContext","webkitAudioContext","analyser","createAnalyser","dataArray","frequencyBinCount","source","createMediaStreamSource","audio","connect","rafId","requestAnimationFrame","mic","getByteTimeDomainData","getByteFrequencyData","setState","componentWillUnmount","cancelAnimationFrame","disconnect","render","iscolor"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAAgC,OAAhC;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AAGA;;AAGA,MAAMC,aAAN,SAA4BF,SAA5B,CAAsC;AAEjCG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACd,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACPC,MAAAA,SAAS,EAAG,IAAIC,UAAJ,CAAe,CAAf;AADL,KAAb;AAGA,SAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACJ;;AAEDC,EAAAA,iBAAiB,GAAG;AACpB,SAAKC,YAAL,GAAoB,KAAKC,MAAM,CAACC,YAAP,IACvBD,MAAM,CAACE,kBADW,GAApB;AAEA,SAAKC,QAAL,GAAgB,KAAKJ,YAAL,CAAkBK,cAAlB,EAAhB;AACA,SAAKC,SAAL,GAAiB,IAAIV,UAAJ,CAAe,KAAKQ,QAAL,CAAcG,iBAA7B,CAAjB;AACA,SAAKC,MAAL,GAAc,KAAKR,YAAL,CAAkBS,uBAAlB,CAA0C,KAAKhB,KAAL,CAAWiB,KAArD,CAAd;AACA,SAAKF,MAAL,CAAYG,OAAZ,CAAoB,KAAKP,QAAzB;AACA,SAAKQ,KAAL,GAAaC,qBAAqB,CAAC,KAAKhB,IAAN,CAAlC;AACD;;AAECA,EAAAA,IAAI,GAAG;AACH,QAAI,KAAKJ,KAAL,CAAWqB,GAAX,IAAkB,CAAtB,EAAwB;AACpB;AACA,WAAKV,QAAL,CAAcW,qBAAd,CAAoC,KAAKT,SAAzC;AACH,KAHD,MAGM,IAAI,KAAKb,KAAL,CAAWqB,GAAX,IAAkB,CAAtB,EAAwB;AAC1B;AACA,WAAKV,QAAL,CAAcY,oBAAd,CAAmC,KAAKV,SAAxC;AACH,KAHK,MAGA,IAAI,KAAKb,KAAL,CAAWqB,GAAX,IAAkB,CAAtB,EAAwB;AAC1B,WAAKV,QAAL,CAAcY,oBAAd,CAAmC,KAAKV,SAAxC,EAD0B,CAE1B;AACH;;AACL,SAAKW,QAAL,CAAc;AAAEtB,MAAAA,SAAS,EAAE,KAAKW;AAAlB,KAAd;AACA,SAAKM,KAAL,GAAaC,qBAAqB,CAAC,KAAKhB,IAAN,CAAlC;AACD;;AAEDqB,EAAAA,oBAAoB,GAAG;AACtBC,IAAAA,oBAAoB,CAAC,KAAKP,KAAN,CAApB;AACA,SAAKR,QAAL,CAAcgB,UAAd;AACA,SAAKZ,MAAL,CAAYY,UAAZ;AACD;;AAEDC,EAAAA,MAAM,GAAG;AACL,wBAAO,oBAAC,eAAD;AAAiB,MAAA,SAAS,EAAE,KAAK3B,KAAL,CAAWC,SAAvC;AAAkD,MAAA,OAAO,EAAI,KAAKF,KAAL,CAAW6B,OAAxE;AAAiF,MAAA,GAAG,EAAI,KAAK7B,KAAL,CAAWqB,GAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACD;;AA3CiC;;AAgDtC,eAAevB,aAAf","sourcesContent":["import React, {Component } from 'react';\nimport AudioVisualiser from './AudioVisualiser'\n\n\n/*global Unit8Array*/\n\n\nclass AudioAnalyser extends Component {\n\n     constructor(props) {\n          super(props);\n          this.state = {\n                audioData : new Uint8Array(0)\n          };\n          this.tick = this.tick.bind(this);\n     }\n\n     componentDidMount() {\n     this.audioContext = new (window.AudioContext ||\n       window.webkitAudioContext)();\n     this.analyser = this.audioContext.createAnalyser();\n     this.dataArray = new Uint8Array(this.analyser.frequencyBinCount);\n     this.source = this.audioContext.createMediaStreamSource(this.props.audio);\n     this.source.connect(this.analyser);\n     this.rafId = requestAnimationFrame(this.tick);\n   }\n\n     tick() {\n         if (this.props.mic == 1){\n             //console.log(\"1\");n\n             this.analyser.getByteTimeDomainData(this.dataArray);\n         }else if (this.props.mic == 2){\n             //console.log(\"2\");\n             this.analyser.getByteFrequencyData(this.dataArray);\n         }else if (this.props.mic == 3){\n             this.analyser.getByteFrequencyData(this.dataArray);\n             //this.analyser.getByteTimeDomainData(this.dataArray);\n         }\n     this.setState({ audioData: this.dataArray });\n     this.rafId = requestAnimationFrame(this.tick);\n   }\n\n   componentWillUnmount() {\n    cancelAnimationFrame(this.rafId);\n    this.analyser.disconnect();\n    this.source.disconnect();\n  }\n\n  render() {\n      return <AudioVisualiser audioData={this.state.audioData} iscolor = {this.props.iscolor} mic = {this.props.mic}/>;\n    }\n\n\n}\n\nexport default AudioAnalyser;\n"]},"metadata":{},"sourceType":"module"}